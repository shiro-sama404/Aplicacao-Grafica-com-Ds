include "materials_transparent.inc"

scene "Antialiasing 1"
{
  environment
  {
    background rgb(0.15, 0.15, 0.2)
    ambient VeryLightGray
  }

  // Câmera posicionada para ver os detalhes
  object "Main Camera"
  {
    define pos <1, 3, 9>
    define target <1, -0.28, 0>
    define vpn pos - target

    transform
    {
      position pos
      rotation axes(vpn, <0,1,0>)
    }
    camera
    {
      perspective
      angle 45
    }
  }

  // Iluminação
  object "Lights"
  {
    object
    {
      transform
      {
        position <10, 10, 10>
      }
      light
      {
        point
        color White * 1.2
        falloff 0
      }
    }

    object
    {
      transform
      {
        position <-10, 10, 5>
      }
      light
      {
        point
        color White
        falloff 0
      }
    }
  }

  // Grade de esferas pequenas - teste de aliasing em bordas
  object "Small Spheres Grid"
  {
    define y_pos 2
    define z_pos -5
    define size 0.15

    object
    {
      transform
      {
        position <-6, y_pos, z_pos>
        scale vec3(size)
      }
      mesh "Sphere" material "RedOpaque"
    }

    object
    {
      transform
      {
        position <-5, y_pos, z_pos>
        scale vec3(size)
      }
      mesh "Sphere" material "BlueOpaque"
    }

    object
    {
      transform
      {
        position <-4, y_pos, z_pos>
        scale vec3(size)
      }
      mesh "Sphere" material "GreenOpaque"
    }

    object
    {
      transform
      {
        position <-3, y_pos, z_pos>
        scale vec3(size)
      }
      mesh "Sphere" material "RedOpaque"
    }

    object
    {
      transform
      {
        position <-2, y_pos, z_pos>
        scale vec3(size)
      }
      mesh "Sphere" material "BlueOpaque"
    }

    object
    {
      transform
      {
        position <-1, y_pos, z_pos>
        scale vec3(size)
      }
      mesh "Sphere" material "GreenOpaque"
    }

    object
    {
      transform
      {
        position <0, y_pos, z_pos>
        scale vec3(size)
      }
      mesh "Sphere" material "RedOpaque"
    }

    object
    {
      transform
      {
        position <1, y_pos, z_pos>
        scale vec3(size)
      }
      mesh "Sphere" material "BlueOpaque"
    }

    object
    {
      transform
      {
        position <2, y_pos, z_pos>
        scale vec3(size)
      }
      mesh "Sphere" material "GreenOpaque"
    }

    object
    {
      transform
      {
        position <3, y_pos, z_pos>
        scale vec3(size)
      }
      mesh "Sphere" material "RedOpaque"
    }

    object
    {
      transform
      {
        position <4, y_pos, z_pos>
        scale vec3(size)
      }
      mesh "Sphere" material "BlueOpaque"
    }

    object
    {
      transform
      {
        position <5, y_pos, z_pos>
        scale vec3(size)
      }
      mesh "Sphere" material "GreenOpaque"
    }

    object
    {
      transform
      {
        position <6, y_pos, z_pos>
        scale vec3(size)
      }
      mesh "Sphere" material "RedOpaque"
    }
  }

  // Cubos rotacionados em ângulos agudos - teste de bordas diagonais
  object "Rotated Boxes"
  {
    define y_pos 0
    define size 0.5

    object
    {
      transform
      {
        position <-5, y_pos, 0>
        scale vec3(size)
        rotation <0, 15, 0>
      }
      mesh "Box" material "RedOpaque"
    }

    object
    {
      transform
      {
        position <-3, y_pos, 0>
        scale vec3(size)
        rotation <0, 30, 0>
      }
      mesh "Box" material "BlueOpaque"
    }

    object
    {
      transform
      {
        position <-1, y_pos, 0>
        scale vec3(size)
        rotation <0, 45, 0>
      }
      mesh "Box" material "GreenOpaque"
    }

    object
    {
      transform
      {
        position <1, y_pos, 0>
        scale vec3(size)
        rotation <0, 60, 0>
      }
      mesh "Box" material "RedOpaque"
    }

    object
    {
      transform
      {
        position <3, y_pos, 0>
        scale vec3(size)
        rotation <0, 75, 0>
      }
      mesh "Box" material "BlueOpaque"
    }

    object
    {
      transform
      {
        position <5, y_pos, 0>
        scale vec3(size)
        rotation <0, 85, 0>
      }
      mesh "Box" material "GreenOpaque"
    }
  }

  // Esferas transparentes sobrepostas - teste de aliasing com transparência
  object "Overlapping Transparent Spheres"
  {
    object
    {
      transform
      {
        position <-2, -1.5, 2>
        scale vec3(0.8)
      }
      mesh "Sphere" material "RedGlass"
    }

    object
    {
      transform
      {
        position <-1.5, -1.5, 2.3>
        scale vec3(0.8)
      }
      mesh "Sphere" material "GreenGlass"
    }

    object
    {
      transform
      {
        position <-1, -1.5, 2>
        scale vec3(0.8)
      }
      mesh "Sphere" material "BlueGlass"
    }
  }

  // Cilindros finos em várias orientações
  object "Thin Cylinders"
  {
    define thin_scale vec3(0.1, 1.5, 0.1)

    object
    {
      transform
      {
        position <2, -1, 3>
        scale thin_scale
        rotation <0, 0, 0>
      }
      mesh "Cylinder" material "RedOpaque"
    }

    object
    {
      transform
      {
        position <3, -1, 3>
        scale thin_scale
        rotation <15, 0, 0>
      }
      mesh "Cylinder" material "BlueOpaque"
    }

    object
    {
      transform
      {
        position <4, -1, 3>
        scale thin_scale
        rotation <30, 0, 0>
      }
      mesh "Cylinder" material "GreenOpaque"
    }

    object
    {
      transform
      {
        position <5, -1, 3>
        scale thin_scale
        rotation <45, 0, 0>
      }
      mesh "Cylinder" material "RedOpaque"
    }
  }

  // Padrão xadrez de cubos pequenos - teste de alta frequência (simplificado)
  object "Checkerboard Pattern"
  {
    define cb_y -2.5
    define cb_z -2
    define cb_size 0.25

    // Linha 1
    object
    {
      transform
      {
        position <-3, cb_y, cb_z>
        scale vec3(cb_size)
      }
      mesh "Box" material "WhiteOpaque"
    }

    object
    {
      transform
      {
        position <-2.5, cb_y, cb_z>
        scale vec3(cb_size)
      }
      mesh "Box" material "RedOpaque"
    }

    object
    {
      transform
      {
        position <-2, cb_y, cb_z>
        scale vec3(cb_size)
      }
      mesh "Box" material "WhiteOpaque"
    }

    object
    {
      transform
      {
        position <-1.5, cb_y, cb_z>
        scale vec3(cb_size)
      }
      mesh "Box" material "RedOpaque"
    }

    object
    {
      transform
      {
        position <-1, cb_y, cb_z>
        scale vec3(cb_size)
      }
      mesh "Box" material "WhiteOpaque"
    }

    object
    {
      transform
      {
        position <-0.5, cb_y, cb_z>
        scale vec3(cb_size)
      }
      mesh "Box" material "RedOpaque"
    }

    object
    {
      transform
      {
        position <0, cb_y, cb_z>
        scale vec3(cb_size)
      }
      mesh "Box" material "WhiteOpaque"
    }

    object
    {
      transform
      {
        position <0.5, cb_y, cb_z>
        scale vec3(cb_size)
      }
      mesh "Box" material "RedOpaque"
    }

    object
    {
      transform
      {
        position <1, cb_y, cb_z>
        scale vec3(cb_size)
      }
      mesh "Box" material "WhiteOpaque"
    }

    object
    {
      transform
      {
        position <1.5, cb_y, cb_z>
        scale vec3(cb_size)
      }
      mesh "Box" material "RedOpaque"
    }

    object
    {
      transform
      {
        position <2, cb_y, cb_z>
        scale vec3(cb_size)
      }
      mesh "Box" material "WhiteOpaque"
    }

    object
    {
      transform
      {
        position <2.5, cb_y, cb_z>
        scale vec3(cb_size)
      }
      mesh "Box" material "RedOpaque"
    }

    object
    {
      transform
      {
        position <3, cb_y, cb_z>
        scale vec3(cb_size)
      }
      mesh "Box" material "WhiteOpaque"
    }
  }

  // Fundo escuro para contraste
  object "Background Plane"
  {
    transform
    {
      position <0, 0, -8>
      scale vec3(20, 12, 0.3)
    }
    mesh "Box" material "GrayOpaque"
  }
}